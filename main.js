(()=>{document.getElementById("enter-museum").addEventListener("click",(function(){window.location.href="Museum/museum.html"}));let t=[],e=Date.now(),n=[];const o=["#4285f4","#34A853","#FBBC05","#EA4335"];function s(t,e,n,o,s){return{x:Math.pow(1-s,3)*t.x+3*Math.pow(1-s,2)*s*e.x+3*(1-s)*Math.pow(s,2)*n.x+Math.pow(s,3)*o.x,y:Math.pow(1-s,3)*t.y+3*Math.pow(1-s,2)*s*e.y+3*(1-s)*Math.pow(s,2)*n.y+Math.pow(s,3)*o.y}}let l=0,a=0;function c(){const o=document.getElementById("canvas"),s=o.getContext("2d");o.width=450,o.height=450;const i=(Date.now()-e)/1e3;s.clearRect(0,0,o.width,o.height);for(let e=0;e<t.length-1;e++){const o=n[e];s.fillStyle=o;const c=t[e];let h=5*Math.sin(i+.1*c.x),m=5*Math.cos(i+.1*c.y),y=c.x-l,f=c.y-a,u=Math.sqrt(y*y+f*f);if(u<50&&u>0){let t=(50-u)/50;h+=y/u*t*20,m+=f/u*t*20}s.beginPath(),s.arc(c.x+h,c.y+m,2,0,2*Math.PI),s.fill(),s.strokeStyle=o,s.lineWidth=.5;const x=t[e+1],p=5*Math.sin(i+.1*x.x),g=5*Math.cos(i+.1*x.y);s.beginPath(),s.moveTo(c.x+h,c.y+m),s.lineTo(x.x+p,x.y+g),s.stroke();const{r:M,g:d,b:w}=(r=(r=o).replace("#",""),{r:parseInt(r.slice(0,2),16),g:parseInt(r.slice(2,4),16),b:parseInt(r.slice(4,6),16)}),E=`rgba(${M}, ${d}, ${w}, 0.2)`,v=3,b=5;for(let n=v;n<=b;n++)if(e-n>=0){let o=t[e-n];const l=5*Math.sin(i+.1*o.x),a=5*Math.cos(i+.1*o.y);s.strokeStyle=E,s.beginPath(),s.moveTo(c.x+h,c.y+m),s.lineTo(o.x+l,o.y+a),s.stroke()}for(let n=v;n<=b;n++)if(e+n<t.length){let o=t[e+n];const l=5*Math.sin(i+.1*o.x),a=5*Math.cos(i+.1*o.y);s.strokeStyle=E,s.beginPath(),s.moveTo(c.x+h,c.y+m),s.lineTo(o.x+l,o.y+a),s.stroke()}}var r;requestAnimationFrame(c)}document.addEventListener("mousemove",(t=>{const e=canvas.getBoundingClientRect();l=t.clientX-e.left,a=t.clientY-e.top})),function(){const t=document.getElementById("hoverText");t.innerHTML="";let e=0;"CONNECTED   EARTH".split("").forEach((n=>{const o=document.createElement("span");o.textContent=n,o.style.animationDelay=.1*e+"s",t.appendChild(o),e+=1}))}(),async function(){try{const e=await fetch("/assets/globe-inverted.svg");if(!e.ok)throw new Error("Failed to load SVG file");const l=await e.text();t=function(t){const e=(new DOMParser).parseFromString(t,"image/svg+xml"),n=e.querySelectorAll("path");let o,l,a=[],c=e.documentElement.getAttribute("viewBox");if(c){const[t,e,n,s]=c.split(" ").map(Number);o=n,l=s}else o=400,l=400;return n.forEach((t=>{const e=t.getAttribute("d");e&&a.push(...function(t){const e=t.match(/[MLCZmlcz][-0-9.,\s]+/g)||[];let n=[],o=0,l=0;return e.forEach((t=>{const e=t.charAt(0),a=t.slice(1).trim().split(/[\s,]+/).map(Number);if("M"===e||"L"===e)for(let t=0;t<a.length;t+=2)o=a[t],l=a[t+1],n.push({x:o,y:l});else if("m"===e||"l"===e)for(let t=0;t<a.length;t+=2)o+=a[t],l+=a[t+1],n.push({x:o,y:l});else if("C"===e)for(let t=0;t<a.length;t+=6){const[e,c,i,r,h,m]=a.slice(t,t+6);for(let t=0;t<=1;t+=.1){const a=s({x:o,y:l},{x:e,y:c},{x:i,y:r},{x:h,y:m},t);n.push(a)}o=h,l=m}else if("c"===e)for(let t=0;t<a.length;t+=6){const[e,c,i,r,h,m]=a.slice(t,t+6),y=o+e,f=l+c,u=o+i,x=l+r,p=o+h,g=l+m;for(let t=0;t<=1;t+=.3){const e=s({x:o,y:l},{x:y,y:f},{x:u,y:x},{x:p,y:g},t);n.push(e)}o=p,l=g}else"Z"!==e&&"z"!==e||n.length})),n}(e))})),a=function(t){const e=Math.min(...t.map((t=>t.x))),n=Math.min(...t.map((t=>t.y))),o=Math.max(...t.map((t=>t.x))),s=Math.max(...t.map((t=>t.y))),l=400/(o-e),a=400/(s-n),c=Math.min(l,a);return t.map((t=>({x:(t.x-e)*c+20,y:(t.y-n)*c+20})))}(a),a}(l),function(t){for(let e=0;e<t;e++){const t=Math.floor(Math.random()*o.length);n.push(o[t])}}(t.length),c()}catch(t){console.error("Error loading SVG:",t)}}()})();